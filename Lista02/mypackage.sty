\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{mypackage}[2014/08/24 Example LaTeX package]
\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}
\RequirePackage[brazil]{babel}
\RequirePackage{hyperref}
\RequirePackage[a4paper,top=3.5cm,left=3cm,right=3cm,bottom=2.5cm]{geometry}
\RequirePackage{pgfplots}
\RequirePackage{enumitem}
\RequirePackage{amsmath}
\RequirePackage{graphicx}
\RequirePackage{import}
\RequirePackage{color}			      % Controle das cores
\RequirePackage{xcolor}
\RequirePackage{indentfirst}
\RequirePackage{pgffor}
\RequirePackage{float}
\RequirePackage{array}
\RequirePackage{calc}

\newcounter{instn}
\setcounter{instn}{1}
\newcommand{\instnum}{\arabic{instn}}

\newcommand{\myline}[1]{
    QuestÃ£o \emph{\textbf{#1.}}
    \addtocounter{instn}{1}
}

\newenvironment{question}
 {
    \section*{\myline{\instnum}}
    }
    {
 }

 \newlength\celldim
\newlength\fontheight
\newlength\extraheight
\newcounter{sqcolumns}

\newcolumntype{S}{
 @{}
 >{\centering \rule[-0.5\extraheight]{0pt}{\fontheight + \extraheight}%
 \begin{minipage}{\celldim}\centering}
 p{\celldim}
 <{\end{minipage}} 
 @{} }

\newcolumntype{Z}{ @{} >{\centering} p{\celldim} @{} }

\newenvironment{image}[1]
  {\setlength\celldim{2.5em}%
   \settoheight\fontheight{A}%
   \setlength\extraheight{\celldim - \fontheight}%
   \setcounter{sqcolumns}{#1 - 1}%
   \begin{tabular}{|S|*{\value{sqcolumns}}{Z|}}\hline}
  {\end{tabular}}

\newcommand\nl{\tabularnewline\hline}